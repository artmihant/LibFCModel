# Задача

Доработка библиотеки парсинга формата fc (FidesysCase) для программы Fidesys

## 1. Обработка документации. 

в src/FidesysCase.html выложена страница, сохраненная в виде html с фики компании Fidesys и описывающая спецификацию формата. 

Нужно отчистить её от лишних данных и перевести в формат md.

## 2. Проверить библиотеку FCModel на соответствие документации

Библиотека fc_model производит преобразование файла формата fc в удобный для чтения/записи обьект python FCModel и записывает его обратно. 

Нужно проверить библиотеку на соответствие качественным практикам программирования и на соответствие спецификации. Результат проверки сохранить в файл INSPECTION.md.

Важно:

* Большие размеры библиотеки (1682 строки) не являются ошибкой, так как её удобно использовать как единый переносимый файл.

* Код библиотеки обязан сохранить обратную совместимость с Python 3.8.

* В библиотеке лишь частично прописаны многочисленные магические значения, описанные в спецификации. Дать рекомендации по их интеграции в библиотеку.

## 3. Проверить исправленные пользователем вручную вещи:

- Переконфигурировать `mypy.ini` на `python_version = 3.8` (или добавить конфигурацию под 3.8) в соответствии с требованием обратной совместимости.
- `FCReciver` → `FCReceiver`
- `CABEL` → `CABLE` (проверить корректное имя типоэлемента в спецификации)
- В спецификации: `99 = POINT3D`, `100 = POINT2D`, `101 = POINT6D`. В коде: `99 = POINT2D`, `101 = VERTEX1` (такого имени в спецификации нет). Рекомендация: синхронизировать названия и номера.

В соответствии с исправлением этих проблем, убрать их упоминание из файла инспекции.

## 4. Провести полную сверку `FC_ELEMENT_TYPES` со спецификацией, дополнить/актуализировать при необходимости.

* Выделить модуль `constants.py` с генерацией карт из документации (в т.ч. из `docs/FidesysCase.md`) и ссылками на номера строк/секций. Вынести в него FC_ELEMENT_TYPES и FCElementType из основного файла.

* Дальше произвести сверку типов элементов. Хотя документация считается приоритетной, в ней могут быть ошибки, кроме того в ней может не быть каких-то элементов. Уточнить у пользователя спорные моменты.

Спорные моменты:

Q: Добавить в constants.py отсутствующие в документации SEM/оболочки/прочие типы: 15, 16, 17, 18, 20–27, 40–41, 82–87, 95–98, 105.

A: Добавляем.

Для описания типов, оканчивающиеся на "S", копируем содержимое соответствующего элемента без "S" - они структурно идентичны, просто одни для "метода конечных элемнтов", другие - для "метода спектральных элементов". Например, HEX8 (fc_id=3) идентичен по структуре HEX8S (fc_id=17)

Остальные типы начинаются на SPRING или LUMPMASS - пружина или точечная масса. Копируем для них свойства из SPRING3D и LUMPMASS3D

Q: Типы, которых нет в спецификации, но есть в коде: 107 (BAR2), 108 (BAR3), 109 (CABLE2), 110 (CABLE3) — оставляем?

A: Оставляем.

Q: Переименовать в соответствии со спецификацией: ...

A: Переименовываем.

По завершению работы поправить файл инспекции, внеся указание об исправленных моментах.

## 5. Снабдить человеко-читаемыми именами FCMaterialProperty и FCDependency

Для работы нужны следующие пункты из документации:

    ### Структура группы свойств материала
    #### type
    #### const_names
    #### const_types

В настоящий момент в файлах .fc и в FCModel тип свойства материала кодируется двумя числовыми значениями: type и name. Необходимо привести их к строчным значениям в соответствии с таблицей соответствия type и const_names соответственно. 

В некоторых случаях материал не является однородным по по свойствам. В этом случае зависимость задается через FCDependency. Это может быть зависимость от разных величих - по формуле, от id элемента, id узла, меняться со временем и.т.п. Все возможные типы законов зависимостей описаны в const_types. 

Таблицы описать в файле констант.

Значение должно корректно считываться из fc из числового в строковое и записываться обратно в fc их строкового в числовое.

